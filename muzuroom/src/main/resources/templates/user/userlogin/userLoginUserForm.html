<!doctype html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<!-- Favicon icon-->
	<link rel="apple-touch-icon" sizes="180x180" href="./assets/images/favicon/apple-touch-icon.png" />
	<link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon/favicon-32x32.png" />
	<link rel="icon" type="image/png" sizes="16x16" href="./assets/images/favicon/favicon-16x16.png" />
	<link rel="manifest" href="./assets/images/favicon/site.webmanifest" />
	<link rel="shortcut icon" href="./assets/images/favicon/favicon.ico" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">


	<!-- Libs CSS -->
	<link rel="stylesheet" href="/user/template/FreshCart-1.4.0/assets/libs/bootstrap-icons/font/bootstrap-icons.min.css" />
	<link rel="stylesheet" href="/user/template/FreshCart-1.4.0/assets/libs/swiper/swiper-bundle.min.css" />
	<link href="/user/template/FreshCart-1.4.0/assets/libs/simplebar/dist/simplebar.min.css" rel="stylesheet" />
	<!-- Theme CSS -->
	<link rel="stylesheet" href="/user/template/FreshCart-1.4.0/assets/css/theme.min.css">

	<title>Sign In eCommerce HTML Template - FreshCart Furniture</title>
</head>

<body>
	<!--Signin start-->
	<div class="vh-100"
		style="background: url(/user/template/FreshCart-1.4.0/assets/images/jpg/login-bg.jpg) no-repeat; background-position: center; background-size: cover">
		<div class="h-100 d-flex flex-column justify-content-center">
			<div class="container">
				<!--Signin form-->
				<div class="row">
					<div class="col-xl-5 col-lg-7">
						<div class="card  mx-4 border-0">
							<div class="card-body p-md-6 p-4">
								<div class="mb-5 text-center">
									<a href="/user/template/FreshCart-1.4.0/index.html"><img src="./assets/images/logo/logo.svg" alt="" /></a>
								</div>
								<div class="mb-3">
									<h1 class="fs-4 mb-0">환영합니다</h1>
								</div>
								<form class= "form w-100" novalidate="novalidate">
									<div class="row g-3">
										<!-- row -->

										<div class="col-12">
											<!-- input -->
											<label for="formSigninEmail" class="form-label visually-hidden">Email
												address</label>
											<input type="text" id="userId" name="id" class="form-control" 
												placeholder="ID" />
											<div class="invalid-feedback">ID를 입력해 주세요.</div>
										</div>
										<div class="col-12">
											<!-- input -->
											<div class="password-field position-relative">
												<label for="formSigninPassword"
													class="form-label visually-hidden">Password</label>
												<div class="password-field position-relative">
													<input type="password" id="userPw" name="password" class="form-control"
														 placeholder="비밀번호" />
													<span><i class="bi bi-eye-slash passwordToggler"></i></span>
													<div class="invalid-feedback">비밀번호를 입력해 주세요.</div>
												</div>
											</div>
										</div>
										<div class="d-md-flex justify-content-between">
											<!-- form check -->
											<div class="form-check">
												<input class="form-check-input" type="checkbox" value=""
													id="flexCheckDefault" />
												<!-- label -->
												<label class="form-check-label" for="flexCheckDefault">자동로그인
													</label>
											</div>
											<div>
												비밀번호를 잊으셨나요?
												<a href="./forgot-password.html" class="text-link">비밀번호 변경</a>
											</div>
										</div>
										<!-- btn -->
										<div class="col-12 d-grid"><button type="button" id="buttonSignIn" class="btn btn-primary">로그인
												</button></div>
										<!-- link -->
										<div>
											계정이 없으신가요?
											<a href="./signup.html" class="text-link">회원가입</a>
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
				<div class="modal fade" id="modalAlert" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="modalAlertTitle">title</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body" id="modalAlertBody">
					body
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary btn-sm btn_custom" name="" id="modalAlert" data-bs-dismiss="modal"><i class="fa-solid fa-x fa-lg"></i></button>
					
				</div>
			</div>
		</div>
	</div>
			</div>
		</div>
	</div>
	<!--Signin end-->
	<!-- Libs JS -->
	<script src="/user/template/FreshCart-1.4.0/assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
	<!-- Swiper JS -->
	<script src="/user/template/FreshCart-1.4.0/assets/libs/swiper/swiper-bundle.min.js"></script>
	<script src="/user/template/FreshCart-1.4.0/assets/libs/simplebar/dist/simplebar.min.js"></script>

	<!-- Theme JS -->
	<script src="/user/template/FreshCart-1.4.0/assets/js/theme.min.js"></script>
	<script src="/user/template/FreshCart-1.4.0/assets/js/vendors/password.js"></script>
	<script src="/user/template/FreshCart-1.4.0/assets/js/vendors/validation.js"></script>
	
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script> 
	
	<script src="/xdm/template/craft_html_v1.1.6/assets/js/custom/jquery-3.7.1.min.js"></script>
	
	<script type="text/javascript">
	
	function Validation() {
        var isValid = true;
		var userId = $("#userId").val();
        var userPassword = $("#userPw").val();

       	if (userId === "") {
            $("#userId").addClass("is-invalid");  
            $("#userId").css("border-color", "#dc3545");
            isValid = false;
        } else {
            $("#userId").removeClass("is-invalid");  
            $("#userId").css("border-color", "");  
        }

        if (userPassword === "") {
            $("#userPw").addClass("is-invalid"); 
          	$("#userPw").css("border-color", "#dc3545");
            isValid = false;
        } else {
            $("#userPw").removeClass("is-invalid");  
            $("#userPw").css("border-color", ""); 
        }
        return isValid; 
        
    }
	$( "#buttonSignIn" ).on( "click", function() {
			loginLogic();
	}); 
	
	
	function loginLogic (){
		
		if(Validation() == false) return false;
		$.ajax({
			async: true 
			,cache: false
			,type: "post"
			/* ,dataType:"json" */
			,url: "/signinXdmProc"
			/* ,data : $("#formLogin").serialize() */
			,data : { "userId" : $("#userId").val(), "userPassword" : $("#userPassword").val()}
			,success: function(response) {
				if(response.rt == "success") {
//						
						
						 location.href = "/user/userindex/userIndexView";
				} else {
			 		
					document.getElementById("modalAlertTitle").innerText = "확 인";
			 		document.getElementById("modalAlertBody").innerText = "일치하는 회원이 존재 하지 않습니다!";
			 		$("#modalAlert").modal("show");
				}
			}
			,error : function(jqXHR, textStatus, errorThrown){
				alert("ajaxUpdate " + jqXHR.textStatus + " : " + jqXHR.errorThrown);
			}
		});
}
	
	</script>
</body>

</html>